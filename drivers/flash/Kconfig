# Kconfig - Flash driver configuration options

#
# Copyright (c) 2016 Intel Corporation
#
# SPDX-License-Identifier: Apache-2.0
#

#
# Flash driver
#
config FLASH_HAS_DRIVER_ENABLED
	bool
	help
	  This option is enabled when any flash driver is enabled.

config FLASH_HAS_PAGE_LAYOUT
	bool
	help
	  This option is enabled when the SoC flash driver supports
	  retrieving the layout of flash memory pages.

menuconfig FLASH
	bool
	prompt "Flash hardware support"
	help
	  Enable support for the flash hardware.

config FLASH_PAGE_LAYOUT
	bool "API for retrieving the layout of pages"
	depends on FLASH && FLASH_HAS_PAGE_LAYOUT
	help
	  Enables API for retrieving the layout of flash memory pages.

config SPI_FLASH_SFDP
	bool
	prompt "Generic SPI Flash driver (SFDP)"
	select FLASH_HAS_DRIVER_ENABLED
	depends on SPI && FLASH
	help
	  This is a generic driver for SPI Flash chips supporting Serial
	  Flash Discoverable Parameters (SFDP).

config SPI_FLASH_SFDP_SPI_NAME
	string
	prompt "SPI controller device name"
	depends on SPI_FLASH_SFDP
	default ""

config SPI_FLASH_SFDP_INIT_PRIORITY
	int
	depends on SPI_FLASH_SFDP
	default 80
	help
	  Device driver initialization priority.
	  Device is connected to SPI bus, it has to
	  be initialized after SPI driver.

config SPI_FLASH_SFDP_SPI_FREQ_0
	int "SPI system frequency"
	depends on SPI_FLASH_SFDP
	default 12000000
	help
	  This option sets the SPI controller's frequency. Beware this value
	  depends on the SPI controller being used and also on the system
	  clock.

config SOC_FLASH_NRF
	bool "Nordic Semiconductor nRF flash driver"
	depends on FLASH && SOC_FAMILY_NRF
	select FLASH_HAS_PAGE_LAYOUT
	select FLASH_HAS_DRIVER_ENABLED
	help
	  Enables Nordic Semiconductor nRF flash driver.

config SOC_FLASH_NRF_RADIO_SYNC
	bool "Nordic nRFx flash driver synchronized with radio"
	depends on SOC_FLASH_NRF && BT_CTLR
	default y
	help
	  Enable synchronization between flash memory driver and radio.

config SOC_FLASH_MCUX
	bool "MCUX flash shim driver"
	depends on FLASH && HAS_MCUX
	select FLASH_HAS_PAGE_LAYOUT
	select FLASH_HAS_DRIVER_ENABLED
	help
	  Enables the MCUX flash shim driver.
	  WARNING: This driver will disable the system interrupts for
	  the duration of the flash erase/write operations. This will
	  have an impact on the overall system performance - whether
	  this is acceptable or not will depend on the use case.

config SOC_FLASH_NIOS2_QSPI
	bool "Nios-II QSPI flash driver"
	depends on FLASH && HAS_ALTERA_HAL
	select FLASH_HAS_DRIVER_ENABLED
	help
	  Enables the Nios-II QSPI flash driver.

config SOC_FLASH_NIOS2_QSPI_DEV_NAME
	string "Nios-II QSPI flash device name"
	depends on SOC_FLASH_NIOS2_QSPI
	default "NIOS2_QSPI_FLASH"
	help
	  Specify the device name for the QSPI flash driver.

source "drivers/flash/Kconfig.qmsi"

source "drivers/flash/Kconfig.stm32"

source "drivers/flash/Kconfig.sam0"

source "drivers/flash/Kconfig.w25qxxdv"
